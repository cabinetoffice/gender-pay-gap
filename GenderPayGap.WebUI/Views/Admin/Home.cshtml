@model GenderPayGap.WebUI.Models.Admin.AdminHomepageViewModel
@{
    ViewBag.Title = "Administration - Gender pay gap service";
    Layout = "~/Views/GovUkFrontend/GovUkFrontendLayout.cshtml";
}

<h1 class="govuk-heading-xl">Administration</h1>

@if (Model.IsDowngradedDueToIpRestrictions)
{
    <div class="govuk-warning-text">
        <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
        <strong class="govuk-warning-text__text">
            <span class="govuk-warning-text__assistive">Warning</span>
            You are accessing this administration page from an untrusted network. Some advanced administration features have been disabled.
        </strong>
    </div>
}

<form method="GET" action="@(Url.Action("SearchGet", "AdminSearch"))">
    <div class="govuk-form-group">
        <label class="govuk-label" for="search-query">
            <h2 class="govuk-heading-l govuk-!-margin-bottom-0">Search for organisations and users</h2>
        </label>
        <div id="search-query-hint" class="govuk-hint govuk-!-margin-top-0">
            <ul class="govuk-list govuk-!-margin-bottom-0">
                <li class="govuk-hint">
                    <span class="govuk-!-font-weight-bold">Organisations:</span> search by current name, previous name, employer reference or company number
                </li>
                <li class="govuk-hint">
                    <span class="govuk-!-font-weight-bold">Users:</span> search by name or email address
                </li>
            </ul>
        </div>
        <div class="admin-search-box">
            <input  type="text"
                    name="query"
                    id="search-query"
                    class="govuk-input admin-search-input"
                    aria-describedby="search-query-hint">
            <button type="submit"  class="admin-search-button">
                <svg class="svg" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="3 4 26 26">
                    <path d="M25.7 24.8L21.9 21c.7-1 1.1-2.2 1.1-3.5 0-3.6-2.9-6.5-6.5-6.5S10 13.9 10 17.5s2.9 6.5 6.5 6.5c1.6 0 3-.6 4.1-1.5l3.7 3.7 1.4-1.4zM12 17.5c0-2.5 2-4.5 4.5-4.5s4.5 2 4.5 4.5-2 4.5-4.5 4.5-4.5-2-4.5-4.5z"/>
                </svg>
                Search
            </button>
        </div>
    </div>
</form>

<h2 class="govuk-heading-l">Actions</h2>

@if (Model.IsSuperAdministrator)
{
    <p class="govuk-body">
        <a href="@(Url.Action("Impersonate"))" class="govuk-link govuk-!-font-weight-bold">Impersonate user</a>
        <br/>
        Login as a user to view their screens.
    </p>
}

@if (Model.IsSuperAdministrator && Model.IsDatabaseAdministrator)
{
    <p class="govuk-body">
        <a href="@(Url.Action("ManualChanges"))" class="govuk-link govuk-!-font-weight-bold">Execute manual changes</a>
        <br/>
        Execute various manual tasks on system and data.
    </p>
}

<h2 class="govuk-heading-l">Registrations</h2>

<p class="govuk-body">
    <a href="@(Url.Action("UnconfirmedPins", "AdminUnconfirmedPins"))" class="govuk-link govuk-!-font-weight-bold">Unconfirmed PINs in the post</a>
    <br/>
    PINs in the Post that haven't yet been confirmed.
</p>

<p class="govuk-body">
    <a href="@(Url.Action("PendingRegistrations"))" class="govuk-link govuk-!-font-weight-bold">Pending registrations</a>
    <br/>
    List of registrations which are awaiting manual authorisation.
</p>

<h2 class="govuk-heading-l">Information</h2>

<p class="govuk-body">
    <a href="@(Url.Action("History"))" class="govuk-link govuk-!-font-weight-bold">History</a>
    <br/>
    Registration and submission historical audit files.
</p>

<p class="govuk-body">
    <a href="@Url.Action("Downloads", "AdminDownloads")" class="govuk-link govuk-!-font-weight-bold">Downloads</a>
    <br/>
    Download organisation, registration, user, consent.
</p>

<p class="govuk-body">
    <a href="@(Url.Action("Uploads"))" class="govuk-link govuk-!-font-weight-bold">Uploads</a>
    <br/>
    Download and uploads for private sector database, SIC codes and merge files.
</p>

<p class="govuk-body">
    <a href="@Url.Action("DatabaseIntegrityChecks", "AdminDatabaseIntegrityChecks")" class="govuk-link govuk-!-font-weight-bold">Database Integrity Checks</a>
    <br/>
    Integrity checks for collected data.
</p>

<h2 class="govuk-heading-l">Logs</h2>

<p class="govuk-body">
    <a href="@Url.Action("ViewFeedback", "AdminFeedback")" class="govuk-link govuk-!-font-weight-bold">View and download feedback</a>
    <br/>
    View and download feedback submitted through the "Send Feedback" links
    <br/>
    @if (Model.NewFeedbackCount > 0)
    {
        <span class="govuk-!-font-weight-bold">
            @(Model.NewFeedbackCount) new responses
        </span>
        <br/>
    }
    Total feedback submissions: @(Model.FeedbackCount)
    <br/>
    Latest feedback received: @(Model.LatestFeedbackDate?.ToString("d MMM yyyy"))
</p>

<p class="govuk-body">
    <a href="@Url.Action("WebsiteLogs", "DownloadableFile")" class="govuk-link govuk-!-font-weight-bold">Web UI logs</a>
    <br/>
    System error, warning, information and bad SIC log files from websites.
</p>

<p class="govuk-body">
    <a href="@Url.Action("WebjobLogs", "DownloadableFile")" class="govuk-link govuk-!-font-weight-bold">Webjob logs</a>
    <br/>
    System error, warning, information, Stannp and email log files from background webjobs processor.
</p>

<p class="govuk-body">
    <a href="@Url.Action("IdentityLogs", "DownloadableFile")" class="govuk-link govuk-!-font-weight-bold">Identity Server logs</a>
    <br/>
    System error, warning and information log files from identity server.
</p>
